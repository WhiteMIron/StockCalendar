{"version":3,"file":"817.js","mappings":"qSAqBA,MAyEA,EAzEcA,KACZ,MAAM,KAAEC,EAAI,MAAEC,EAAK,WAAEC,EAAU,OAAEC,IAAWC,EAAAA,EAAAA,IAAQ,GAAEC,EAAAA,EAAAA,OAAAA,gBAAgCC,EAAAA,IAC/EC,EAAYC,IAAiBC,EAAAA,EAAAA,WAAS,IACtCC,EAAOC,IAAiBC,EAAAA,EAAAA,GAAS,KACjCC,EAAUC,IAAoBF,EAAAA,EAAAA,GAAS,IACxCG,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,cACdC,IACCA,EAAEC,iBACFZ,GAAc,GACda,IAAAA,KAEK,GAAEhB,EAAAA,EAAAA,OAAAA,sBACH,CAAEK,QAAOG,YACT,CACES,iBAAiB,IAGpBC,MAAMC,IACLtB,GAAY,IAEbuB,OAAOxB,IACNO,EAAyC,MAA3BP,EAAMuB,UAAUE,OAAe,GAC7C,GAEN,CAAChB,EAAOG,IAGV,YAAac,IAAT3B,GACK4B,EAAAA,EAAAA,IAAA,WAAK,WAGV5B,GAIA6B,QAAQC,IAAI,MAAOC,EAAQC,IAAIC,YAEjClB,EAAS,kBAETc,QAAQC,IAAI,MAAO9B,IAInB4B,EAAAA,EAAAA,IAACM,EAAAA,GAAc,MACbN,EAAAA,EAAAA,IAACO,EAAAA,GAAM,KAAC,WACRP,EAAAA,EAAAA,IAACQ,EAAAA,GAAI,CAACnB,SAAUA,IACdW,EAAAA,EAAAA,IAACS,EAAAA,GAAK,MACJT,EAAAA,EAAAA,IAAA,YAAM,WACNA,EAAAA,EAAAA,IAAA,YACEA,EAAAA,EAAAA,IAACU,EAAAA,GAAK,CAACC,KAAK,QAAQC,GAAG,QAAQC,KAAK,QAAQC,MAAOhC,EAAOiC,SAAUhC,OAGxEiB,EAAAA,EAAAA,IAACS,EAAAA,GAAK,MACJT,EAAAA,EAAAA,IAAA,YAAM,SACNA,EAAAA,EAAAA,IAAA,YACEA,EAAAA,EAAAA,IAACU,EAAAA,GAAK,CAACC,KAAK,WAAWC,GAAG,WAAWC,KAAK,WAAWC,MAAO7B,EAAU8B,SAAU7B,KAEjFP,IAAcqB,EAAAA,EAAAA,IAACgB,EAAAA,GAAK,KAAC,8BAExBhB,EAAAA,EAAAA,IAACiB,EAAAA,GAAU,CAACN,KAAK,SAASO,MAAM,UAAUC,aAAa,QAAO,SAIhEnB,EAAAA,EAAAA,IAACoB,EAAAA,GAAe,KAAC,kBAEfpB,EAAAA,EAAAA,IAACqB,EAAAA,GAAI,CAACC,GAAG,WAAU,UAEN,C","sources":["webpack://stock-calendar-ts-front/./pages/Login/index.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  FillButton,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Label,\r\n  LoginContainer,\r\n  LoginContents,\r\n  SignUpContainer,\r\n  Error,\r\n} from './styles';\r\nimport useSWR from 'swr';\r\nimport useInput from '@hooks/useInput';\r\nimport fetcher from '@utils/fetcher';\r\nimport axios from 'axios';\r\nimport { Link, Navigate, useNavigate } from 'react-router-dom';\r\nimport defines from '@constants/defines';\r\n\r\nconst Login = () => {\r\n  const { data, error, revalidate, mutate } = useSWR(`${defines.server.url}/api/users`, fetcher);\r\n  const [logInError, setLogInError] = useState(false);\r\n  const [email, onChangeEmail] = useInput('');\r\n  const [password, onChangePassword] = useInput('');\r\n  const navigate = useNavigate();\r\n\r\n  const onSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      setLogInError(false);\r\n      axios\r\n        .post(\r\n          `${defines.server.url}/api/users/login`,\r\n          { email, password },\r\n          {\r\n            withCredentials: true,\r\n          },\r\n        )\r\n        .then((response) => {\r\n          revalidate();\r\n        })\r\n        .catch((error) => {\r\n          setLogInError(error.response?.status === 401);\r\n        });\r\n    },\r\n    [email, password],\r\n  );\r\n\r\n  if (data === undefined) {\r\n    return <div>로딩중...</div>;\r\n  }\r\n\r\n  if (data) {\r\n    // return <Navigate to=\"/stock-record\"></Navigate>;\r\n\r\n    {\r\n      console.log('주소:', process.env.PUBLIC_URL);\r\n    }\r\n    navigate('/stock-record');\r\n  } else {\r\n    console.log('여기2', data);\r\n  }\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <Header>주식 캘린더</Header>\r\n      <Form onSubmit={onSubmit}>\r\n        <Label>\r\n          <span>이메일 주소</span>\r\n          <div>\r\n            <Input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChangeEmail} />\r\n          </div>\r\n        </Label>\r\n        <Label>\r\n          <span>비밀번호</span>\r\n          <div>\r\n            <Input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={onChangePassword} />\r\n          </div>\r\n          {logInError && <Error>이메일과 비밀번호 조합이 일치하지 않습니다.</Error>}\r\n        </Label>\r\n        <FillButton type=\"submit\" color=\"#60d6bf\" marginBottom=\"20px\">\r\n          로그인\r\n        </FillButton>\r\n      </Form>\r\n      <SignUpContainer>\r\n        아직 회원이 아니신가요?&nbsp;\r\n        <Link to=\"/signup\">회원가입</Link>\r\n      </SignUpContainer>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","data","error","revalidate","mutate","useSWR","defines","fetcher","logInError","setLogInError","useState","email","onChangeEmail","useInput","password","onChangePassword","navigate","useNavigate","onSubmit","useCallback","e","preventDefault","axios","withCredentials","then","response","catch","status","undefined","___EmotionJSX","console","log","process","env","PUBLIC_URL","LoginContainer","Header","Form","Label","Input","type","id","name","value","onChange","Error","FillButton","color","marginBottom","SignUpContainer","Link","to"],"sourceRoot":""}